"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2156],{94377:function(e,r,n){n.d(r,{E:function(){return ne},TN:function(){return te},Pt:function(){return H},y1:function(){return ge},ys:function(){return ie},qZ:function(){return ue},RM:function(){return oe},rG:function(){return W},sL:function(){return z},cs:function(){return de},Jj:function(){return ce},XF:function(){return le},Z7:function(){return ae},sr:function(){return re},Ps:function(){return ee},vB:function(){return $},Ww:function(){return fe},MP:function(){return se},UK:function(){return ye},ov:function(){return Oe},v3:function(){return be},s7:function(){return pe},xm:function(){return _e},aj:function(){return qe},YY:function(){return Ie},RQ:function(){return me},eT:function(){return ve}});var t=n(59499),o="order",i="return-list",u="digiplus",d=function(e){return"order/".concat(e,"/")},a=function(e){return"order/".concat(e,"/return/view-items/")},l=function(e){return"return/".concat(e,"/edit-items/")},c=function(e){return"return/".concat(e,"/edit/")},s=function(e){return"order/".concat(e,"/return/select-items/")},v=function(e){return"return/".concat(e,"/edit/items/")},f=function(e){return"return/".concat(e,"/submit/")},m=function(e){return"return/item/".concat(e,"/media/delete/")},p=function(e){return"modify/".concat(e,"/")},y=function(e){return"cancel/shipment/".concat(e,"/")},_=function(e){return"cancel/shipment/".concat(e,"/review/")},b=function(e){return"thank-you/cancellation/".concat(e,"/")},q=function(e){return"modify/".concat(e,"/save/")},I=function(e){return"cancel/shipment/".concat(e,"/save/")},O=function(e){return"cancel/shipment/items/".concat(e,"/save/")},g=function(e){return"cancel/shipment/".concat(e,"/time-scopes/save/")},R=function(e){var r=e.type,n=e.ids;return r===o?function(e){var r=e.orderId;return"invoice/order/".concat(r,"/")}({orderId:n[0]}):r===i?function(e){var r=e.newReturnRequestId,n=e.baseOrderId;return"invoice/return/list/".concat(r,"/").concat(n,"/")}({newReturnRequestId:n[0],baseOrderId:n[1]}):r===u?function(e){var r=e.plusSubscriptionId;return"invoice/digiplus/".concat(r,"/")}({plusSubscriptionId:n[0]}):""},P=n(10439),j=n(65107),T=n(73286),M=n(41681);function h(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function S(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?h(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var E=function(e){var r,n,t,o,i,u,d,a=e.item,l=e.prefix;return(0,T.objectModerator)({returnItemIcon:null===a||void 0===a?void 0:a.icon,returnItemIconColor:null===a||void 0===a?void 0:a.icon_color,returnItemId:null===a||void 0===a?void 0:a.id,returnItemOrderItem:(0,M.P9)({item:null===a||void 0===a?void 0:a.order_item}),returnItemReturnReasonId:null===a||void 0===a||null===(r=a.return_reason)||void 0===r?void 0:r.id,returnItemReturnReasonTitle:null===a||void 0===a||null===(n=a.return_reason)||void 0===n?void 0:n.title,returnItemIsMandatoryPicture:null===a||void 0===a||null===(t=a.return_reason)||void 0===t?void 0:t.is_mandatory_picture,returnItemStatus:null===a||void 0===a?void 0:a.status,returnItemNextStatus:null===a||void 0===a?void 0:a.next_status,returnItemQuantity:null===a||void 0===a?void 0:a.quantity,returnItemMaxQuantity:null===a||void 0===a?void 0:a.max_quantity,returnItemOldUploadedImagesUrl:null===a||void 0===a||null===(o=a.images)||void 0===o||null===(i=o.url)||void 0===i?void 0:i.map((function(e,r){var n;return{preview:e,temporaryMediaTemporaryId:null===a||void 0===a||null===(n=a.images)||void 0===n?void 0:n.storage_ids[r+1]}})),returnItemOldUploadedImagesIds:(null===a||void 0===a||null===(u=a.images)||void 0===u?void 0:u.storage_ids)&&Object.values(null===a||void 0===a||null===(d=a.images)||void 0===d?void 0:d.storage_ids),returnItemIsEditable:null===a||void 0===a?void 0:a.is_editable,returnItemComment:null===a||void 0===a?void 0:a.comment},{prefix:l})},G=function(e){var r,n,t,o,i,u,d=e.data,a=e.prefix;return(0,T.objectModerator)({returnRequestAddress:null===d||void 0===d||null===(r=d.address)||void 0===r?void 0:r.address,returnRequestAddressId:null===d||void 0===d||null===(n=d.address)||void 0===n?void 0:n.id,returnRequestAddressFullName:null===d||void 0===d||null===(t=d.address)||void 0===t?void 0:t.full_name,returnRequestAddressMobile:null===d||void 0===d||null===(o=d.address)||void 0===o?void 0:o.mobile,returnRequestAddressDropOffAddressId:null===d||void 0===d||null===(i=d.address)||void 0===i?void 0:i.drop_off_address_id,returnRequestCreatedAt:null===d||void 0===d?void 0:d.created_at,returnRequestDeadline:null===d||void 0===d?void 0:d.deadline,returnRequestId:null===d||void 0===d?void 0:d.id,returnRequestInvoiceUrl:(0,M.fX)({data:null===d||void 0===d?void 0:d.invoice_url}),returnRequestIsDropOffEligible:null===d||void 0===d?void 0:d.is_drop_off_eligible,returnRequestIsEditable:null===d||void 0===d?void 0:d.is_editable,returnRequestListInvoiceUrl:(0,M.fX)({data:null===d||void 0===d?void 0:d.list_invoice_url}),returnRequestOrder:(0,M.GQ)({order:null===d||void 0===d?void 0:d.order}),returnRequestItems:null===d||void 0===d||null===(u=d.return_request_items)||void 0===u?void 0:u.map((function(e){return E({item:e})})),returnRequestShipment:(0,M.l4)({data:null===d||void 0===d?void 0:d.shipment}),returnRequestStatus:null===d||void 0===d?void 0:d.status,returnRequestTotalPrice:null===d||void 0===d?void 0:d.total_price,returnRequestCanAddItems:null===d||void 0===d?void 0:d.can_add_items},{prefix:a})};function N(e){var r,n=e.data;return(0,T.objectModerator)({order:(0,M.GQ)({order:null===n||void 0===n?void 0:n.order}),payments:null===n||void 0===n||null===(r=n.payments)||void 0===r?void 0:r.map((function(e){return(0,M.wJ)({data:e})}))})}function X(e){var r,n=e.data;return(0,T.objectModerator)({shipment:(0,M.l4)({data:null===n||void 0===n?void 0:n.shipment}),cancellationReasons:null===n||void 0===n||null===(r=n.cancellation_reasons)||void 0===r?void 0:r.map((function(e){return{reasonId:null===e||void 0===e?void 0:e.id,reasonTitle:null===e||void 0===e?void 0:e.title}}))})}function w(e){var r,n=e.data;return(0,T.objectModerator)({orders:null===n||void 0===n||null===(r=n.orders)||void 0===r?void 0:r.map((function(e){return(0,M.GQ)({order:e})}))})}function A(e){var r,n,t,o,i,u=e.data,d=e.prefix;return(0,T.objectModerator)({onlineModifyId:null===u||void 0===u?void 0:u.id,onlineModifyOrderId:null===u||void 0===u?void 0:u.order_id,onlineModifyPayment_method_id:null===u||void 0===u?void 0:u.payment_method_id,onlineModifyPriceRefund:null===u||void 0===u||null===(r=u.price)||void 0===r?void 0:r.refund,onlineModifyPriceRefundItems:null===u||void 0===u||null===(n=u.price)||void 0===n?void 0:n.refund_items,onlineModifyPriceRefundVoucher:null===u||void 0===u||null===(t=u.price)||void 0===t?void 0:t.refund_voucher,onlineModifyPriceShippingCost:null===u||void 0===u||null===(o=u.price)||void 0===o?void 0:o.shipping_cost,onlineModifyPriceTotal:null===u||void 0===u||null===(i=u.price)||void 0===i?void 0:i.total,onlineModifyShouldChangeTimeScope:null===u||void 0===u?void 0:u.should_change_time_scope,onlineModifyStatus:null===u||void 0===u?void 0:u.status},{prefix:d})}function D(e){var r=e.item,n=e.prefix;return(0,T.objectModerator)({modificationItemId:null===r||void 0===r?void 0:r.id,modificationItemOrderItem:(0,M.P9)({item:null===r||void 0===r?void 0:r.order_item}),modificationItemQuantity:null===r||void 0===r?void 0:r.quantity},{prefix:n})}function x(e){var r,n=e.data;return(0,T.objectModerator)({onlineModification:A({data:null===n||void 0===n?void 0:n.online_modification}),shipment:(0,M.l4)({data:null===n||void 0===n?void 0:n.shipment}),timeScopes:null===n||void 0===n||null===(r=n.time_scopes)||void 0===r?void 0:r.map((function(e){return(0,M.AP)(e)})),freeShippingThreshold:null===n||void 0===n?void 0:n.free_shipping_threshold})}function Q(e){var r,n=e.data;return(0,T.objectModerator)({onlineModification:A({data:null===n||void 0===n?void 0:n.online_modification}),onlineModificationItems:null===n||void 0===n||null===(r=n.online_modification_items)||void 0===r?void 0:r.map((function(e){return D({item:e})})),shipment:(0,M.l4)({data:null===n||void 0===n?void 0:n.shipment})})}function k(e){var r,n=e.data,t={};(0,T.isEmpty)(null===n||void 0===n?void 0:n.time_scopes)||(null===(r=Object.keys(null===n||void 0===n?void 0:n.time_scopes))||void 0===r||r.map((function(e){var r;return t[e]=null===n||void 0===n||null===(r=n.time_scopes[e])||void 0===r?void 0:r.map((function(e){return(0,M.AP)(e)}))})));return(0,T.objectModerator)({order:(0,M.GQ)({order:null===n||void 0===n?void 0:n.order}),timeScopes:t})}function C(e){var r,n,t=e.data;return(0,T.objectModerator)({addresses:null===t||void 0===t||null===(r=t.addresses)||void 0===r||null===(n=r.map)||void 0===n?void 0:n.call(r,(function(e){return(0,M.X$)({data:e})}))})}function Z(e){var r=e.data;return(0,T.objectModerator)(S({},G({data:null===r||void 0===r?void 0:r.return_request})))}function F(e){var r=e.data;return(0,T.objectModerator)({order:(0,M.GQ)({order:null===r||void 0===r?void 0:r.order}),returnRequest:G({data:null===r||void 0===r?void 0:r.return_request})})}function U(e){var r,n=e.data;return(0,T.objectModerator)({returnRequestItems:null===n||void 0===n||null===(r=n.return_request_items)||void 0===r?void 0:r.map((function(e){return E({item:e})}))})}function L(e){var r,n,t,o,i,u,d=e.data;return(0,T.objectModerator)({defaultAddress:{returnAddress:null===d||void 0===d||null===(r=d.default_address)||void 0===r?void 0:r.address,returnAddressId:null===d||void 0===d||null===(n=d.default_address)||void 0===n?void 0:n.id,returnAddressFullName:null===d||void 0===d||null===(t=d.default_address)||void 0===t?void 0:t.full_name,returnAddressMobile:null===d||void 0===d||null===(o=d.default_address)||void 0===o?void 0:o.mobile,returnAddressDropOffAddressId:null===d||void 0===d||null===(i=d.default_address)||void 0===i?void 0:i.drop_off_address_id},returnRequest:G({data:null===d||void 0===d?void 0:d.return_request}),submitTypes:null===d||void 0===d||null===(u=d.submit_types)||void 0===u?void 0:u.map((function(e){return(0,M.Fx)({data:e})}))})}function V(e){var r=e.data;return(0,T.objectModerator)({onlineModificationId:null===r||void 0===r?void 0:r.online_modification_id})}function J(e){var r=e.data;return(0,T.objectModerator)({returnRequestId:null===r||void 0===r?void 0:r.return_request_id})}var Y=n(73744);function B(e,r){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),n.push.apply(n,t)}return n}function K(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?B(Object(n),!0).forEach((function(r){(0,t.Z)(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var W=(0,P.q)({type:j.XN.GET,url:"profile/orders/",transformer:function(e){var r,n=e.data;return(0,T.objectModerator)({orders:null===n||void 0===n||null===(r=n.orders)||void 0===r?void 0:r.map((function(e){return(0,M.GQ)({order:e})})),pager:(0,M.dQ)({data:null===n||void 0===n?void 0:n.pager})})}}),$=(0,P.q)({type:j.XN.GET,url:"profile/orders/tabs/",transformer:function(e){var r=e.data;return(0,M.Q8)({data:null===r||void 0===r?void 0:r.tabs,prefix:"tab"})},isPageGetRequest:!0}),z=(0,P.q)({type:j.XN.GET,url:"profile/returns/",transformer:function(e){var r,n=e.data;return(0,T.objectModerator)({returnRequests:null===n||void 0===n||null===(r=n.return_requests)||void 0===r?void 0:r.map((function(e){return G({data:e})})),pager:(0,M.dQ)({data:null===n||void 0===n?void 0:n.pager})})}});function H(e){return(0,P.q)({type:j.XN.GET,url:d(e),transformer:N,isPageGetRequest:!0})}function ee(e){return(0,P.q)({type:j.XN.GET,url:y(e),transformer:X,isPageGetRequest:!0})}function re(){return(0,P.q)({type:j.XN.GET,url:"profile/order/search/",transformer:w,inputTransformer:function(e){var r=e.q;return{q:(0,Y.RQ)(r)}}})}function ne(e){return(0,P.q)({type:j.XN.GET,url:_(e),transformer:x,isPageGetRequest:!0})}function te(e){return(0,P.q)({type:j.XN.GET,url:b(e),transformer:Q,isPageGetRequest:!0})}function oe(e){return(0,P.q)({type:j.XN.GET,url:p(e),transformer:k,isPageGetRequest:!0})}function ie(e){return(0,P.q)({type:j.XN.GET,url:(r=e,"modify/".concat(r,"/addresses/")),transformer:C});var r}var ue=(0,P.q)({type:j.XN.GET,url:function(e){return function(e){return"modify/".concat(e,"/time-scopes/")}(e.orderId)},transformer:function(e){var r,n=e.data,t={};return(0,T.isEmpty)(null===n||void 0===n?void 0:n.time_scopes)||null===(r=Object.keys(null===n||void 0===n?void 0:n.time_scopes))||void 0===r||r.map((function(e){var r;return t[e]=null===n||void 0===n||null===(r=n.time_scopes[e])||void 0===r?void 0:r.map((function(e){return(0,M.AP)(e)}))})),(0,T.objectModerator)({timeScopes:t})},inputTransformer:function(e){return(0,T.cleanObject)(K(K({},e),{},{orderId:void 0}))}});function de(e){return(0,P.q)({type:j.XN.GET,url:(r=e,"return/".concat(r,"/")),transformer:Z,isPageGetRequest:!0});var r}function ae(e){return(0,P.q)({type:j.XN.GET,url:a(e),transformer:F,isPageGetRequest:!0})}function le(e){return(0,P.q)({type:j.XN.GET,url:l(e),transformer:U,isPageGetRequest:!0})}function ce(e){return(0,P.q)({type:j.XN.GET,url:c(e),transformer:L,isPageGetRequest:!0})}function se(e){return(0,P.q)({type:j.XN.POST,url:q(e),inputTransformer:function(e){return{address_id:e.addressId,time_scopes:K({},e.timeScopes)}}})}function ve(e){return(0,P.q)({type:j.XN.POST,url:I(e),transformer:V,inputTransformer:function(e){return{cancellation_reason_id:e.cancellationReasonId}}})}function fe(e){return(0,P.q)({type:j.XN.POST,url:O(e),transformer:V,inputTransformer:function(e){var r,n=e.orderItems;return{order_items:null===(r=Object.keys(n))||void 0===r?void 0:r.reduce((function(e,r){var o,i,u,d,a;return K(K({},e),{},(0,t.Z)({},r,{id:null===(o=n[r])||void 0===o?void 0:o.id,selected:null===(i=n[r])||void 0===i?void 0:i.selected,quantity:null===(u=n[r])||void 0===u?void 0:u.quantity,cancellation_reason_id:null===(d=n[r])||void 0===d?void 0:d.cancellationReasonId,price:null===(a=n[r])||void 0===a?void 0:a.price}))}),{})}}})}function me(e){return(0,P.q)({type:j.XN.POST,url:g(e),inputTransformer:function(e){return{time_scope_id:e.timeScopeId}}})}function pe(e){return(0,P.q)({type:j.XN.POST,url:(r=e,"return/item/".concat(r,"/cancel/"))});var r}function ye(e){return(0,P.q)({type:j.XN.POST,url:(r=e,"return/".concat(r,"/cancel/"))});var r}function _e(e){return(0,P.q)({type:j.XN.POST,url:s(e),transformer:J,inputTransformer:function(e){return{order_item_ids:e.orderItemIds}}})}function be(e){return(0,P.q)({type:j.XN.POST,url:v(e),inputTransformer:function(e){var r=e.returnRequestItems;return{return_request_items:null===r||void 0===r?void 0:r.map((function(e){return{id:e.id,quantity:e.quantity,price:e.price,reason_id:e.reasonId,comment:null===e||void 0===e?void 0:e.comment,temporary_media_ids:null===e||void 0===e?void 0:e.imageIds,old_image_ids:e.oldImageIds}}))}}})}function qe(e){return(0,P.q)({type:j.XN.POST,url:f(e),inputTransformer:function(e){return{submit_type_id:e.submitTypeId,time_scope_id:e.timeScopeId,address_id:e.addressId}}})}var Ie=(0,P.q)({type:j.XN.POST,url:function(e){return function(e){return"media/upload/return/item/".concat(e,"/")}(e.id)},inputTransformer:function(e){return e.formData},transformer:function(e){var r,n=e.data;return(0,T.objectModerator)({temporaryMediaTemporaryId:null===n||void 0===n||null===(r=n.temporary_media)||void 0===r?void 0:r.temporary_id})},options:{headers:{"Content-Type":"multipart/form-data"},timeout:18e4}});function Oe(e){return(0,P.q)({type:j.XN.POST,url:m(e),transformer:function(e){return e},inputTransformer:function(e){return{image_id:e.imageId}}})}function ge(e){var r=e.type,n=e.ids,t=void 0===n?[]:n;return(0,P.q)({type:j.XN.GET,url:R({type:r,ids:t}),transformer:function(e){return e.data},isPageGetRequest:!0})}},59140:function(e,r,n){n.d(r,{V:function(){return c}});var t=n(27812),o=n(8100),i=n(11163),u=n(67294),d=n(61740),a=n(73286);function l(e){return function(r,n,t){var o=(0,u.useRef)(),i=e(r,n,t);(0,u.useEffect)((function(){void 0!==i.data&&(o.current=i.data)}),[i.data]);var d=(0,u.useCallback)((function(){o.current=void 0}),[]),a=void 0===i.data?o.current:i.data,l=void 0===i.data&&void 0!==o.current;return Object.assign({},i,{data:a,isLagging:l,resetLaggy:d})}}function c(e){var r=e.apiMethod,n=e.apiData,c=e.dependencies,s=e.onSuccess,v=void 0===s?function(){}:s,f=e.onError,m=void 0===f?function(){}:f,p=e.revalidateIfStale,y=void 0!==p&&p,_=e.revalidateOnMount,b=void 0===_||_,q=e.revalidateOnFocus,I=void 0!==q&&q,O=e.revalidateOnReconnect,g=void 0!==O&&O,R=e.disabled,P=e.initialValue,j=((0,a.isFunction)(r.url)?r.url(n):r.url)+(0,a.stringifyUrlParams)(n),T=(0,i.useRouter)().isReady&&!R,M=(0,d.b6)(),h=(0,u.useState)(P||{})[0],S=(0,u.useMemo)((function(){return[j].concat((0,t.Z)(c||[]))}),[c,j]),E=(0,o.ZP)(T?S:null,(function(){return r(n)}),{onError:m,revalidateIfStale:y,revalidateOnMount:b,revalidateOnFocus:I,revalidateOnReconnect:g,fallbackData:h,use:[l],shouldRetryOnError:!1}),G=E.data,N=E.error,X=E.mutate,w=E.isValidating,A=!N&&!G&&!!j&&!R||w&&!R;return(0,u.useEffect)((function(){!M&&!G||A||null===v||void 0===v||v(G)}),[G,A]),{data:G,pending:A,hasError:!!N,reload:function(){return X(j)},setPageData:function(e){return X(e,!1)}}}r.Z=c}}]);
//# sourceMappingURL=2156-a3c7653992d54ee2.js.map